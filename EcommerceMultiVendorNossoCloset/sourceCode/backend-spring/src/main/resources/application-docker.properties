# ===== CONFIGURAÇÕES FASE 1 - AMBIENTE DOCKER =====

# Database Configuration
spring.datasource.url=jdbc:postgresql://postgres:5432/nosso_closet_dev
spring.datasource.username=postgres
spring.datasource.password=password
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=true

# Redis Configuration
spring.data.redis.host=redis
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# RabbitMQ Configuration
spring.rabbitmq.host=rabbitmq
spring.rabbitmq.port=5672
spring.rabbitmq.username=admin
spring.rabbitmq.password=password
spring.rabbitmq.listener.simple.retry.enabled=true
spring.rabbitmq.listener.simple.retry.initial-interval=1000
spring.rabbitmq.listener.simple.retry.max-attempts=3

# AWS S3 Configuration
aws.s3.region=us-east-1
aws.s3.bucket-name=nosso-closet-dev
aws.s3.access-key=${AWS_ACCESS_KEY_ID}
aws.s3.secret-key=${AWS_SECRET_ACCESS_KEY}
aws.s3.endpoint-url=${AWS_S3_ENDPOINT:}

# Micrometer Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true
management.metrics.tags.application=nosso-closet
management.metrics.tags.environment=docker

# Logging Configuration
logging.level.com.zosh=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Server Configuration
server.port=5454
server.servlet.context-path=/api

# Security Configuration
jwt.secret=${JWT_SECRET:nosso-closet-jwt-secret-key-2024}
jwt.expiration=86400000

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2KB

# Cache Configuration
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.cache-null-values=false

# Async Configuration
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=25
spring.task.execution.thread-name-prefix=async-

# ===== GOOGLE DRIVE CONFIGURATION =====
google.drive.enabled=${GOOGLE_DRIVE_ENABLED:true}
google.drive.credentials.file.path=${GOOGLE_DRIVE_CREDENTIALS_FILE:credentials.json}
google.drive.application.name=${GOOGLE_DRIVE_APP_NAME:Nosso Closet - Sistema de Catalogos}
google.drive.folder.id=${GOOGLE_DRIVE_FOLDER_ID:}

# ===== UPLOAD CONFIGURATION =====
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=100MB
spring.servlet.multipart.file-size-threshold=2KB
